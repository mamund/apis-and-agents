{
  "sharedStateURL": "#",
  "name": "test-todo-service",
  "steps": [
    {
      "name": "delete-todo",
      "enabled": true,
      "tasks": [
        {
          "tag": "todo",
          "input": {
            "command": "delete",
            "resource": "todo",
            "id": "job-test-001"
          },
          "storeResultAt": [
            {
              "targetPath": "/state/todoDelete"
            }
          ]
        }
      ]
    },
    {
      "name": "create-todo",
      "enabled": true,
      "tasks": [
        {
          "tag": "todo",          
          "service": "todo-service",
          "input": {
            "command": "create",
            "resource": "todo",
            "id": "job-test-001",
            "payload": {
              "title": "From Job-Control",
              "done": false
            }
          },
          "storeResultAt": [
            {
              "targetPath": "/state/todoCreated"
            }
          ]
        }
      ]
    },
    {
      "name": "update-todo",
      "enabled": true,
      "tasks": [
        {
          "tag": "todo",
          "service": "todo-service",
          "input": {
            "command": "update",
            "resource": "todo",
            "id": "job-test-001",
            "payload": {
              "done": true
            }
          },
          "storeResultAt": [
            {
              "targetPath": "/state/todoUpdated"
            }
          ]
        }
      ]
    },
    {
      "name": "read-todo",
      "enabled": true,
      "tasks": [
        {
          "tag": "todo",
          "service": "todo-service",
          "input": {
            "command": "read",
            "resource": "todo",
            "id": "job-test-001"
          },
          "storeResultAt": [
            {
              "targetPath": "/state/todoRead"
            }
          ]
        }
      ]
    },
    {
      "name": "todo-revert",
      "enabled": true,
      "mode": "revert",
      "tasks": [
        {
         "tag": "todo",
         "service": "todo-service",
          "input": {
            "command": "create",
            "resource": "todo",
            "id": "job-test-001"
          },
          "storeResultAt": [
            {
              "targetPath": "/state/todoRevert"
            }
          ]
        }
      ]
    }
  ]
}
